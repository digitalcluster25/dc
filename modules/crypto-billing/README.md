# üíé Crypto Billing Module

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—Ä–∏–ø—Ç–æ–ø–ª–∞—Ç–µ–∂–µ–π –¥–ª—è SaaS —Ö–æ—Å—Ç–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º**

[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](./package.json)
[![TypeScript](https://img.shields.io/badge/TypeScript-Ready-blue.svg)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-14.x-black.svg)](https://nextjs.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](./LICENSE)

## üéØ –û–±–∑–æ—Ä

Crypto Billing Module - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–µ–º–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è SaaS —Ö–æ—Å—Ç–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º. –ú–æ–¥—É–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–ø–ª–∞—á–∏–≤–∞—Ç—å —É—Å–ª—É–≥–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞ –≤ Bitcoin, Ethereum, —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –º–æ–Ω–µ—Ç–∞—Ö –∏ –¥—Ä—É–≥–∏—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞—Ö.

### ‚ö° –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üöÄ **–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è** - –°–µ—Ä–≤–∏—Å—ã –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –∑–∞ 2-5 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞
- üíé **6 –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç** - USDT, USDC, BUSD, BTC, ETH, MATIC
- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - HD –∫–æ—à–µ–ª—å–∫–∏, –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, AES —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- üåç **–ì–ª–æ–±–∞–ª—å–Ω–æ—Å—Ç—å** - –†–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–π —Å—Ç—Ä–∞–Ω–µ –±–µ–∑ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π  
- üí∞ **–ù–∏–∑–∫–∏–µ –∫–æ–º–∏—Å—Å–∏–∏** - –û—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è stablecoins
- üì± **–£–¥–æ–±—Å—Ç–≤–æ** - QR-–∫–æ–¥—ã, –∞–≤—Ç–æ–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç –ø–ª–∞—Ç–µ–∂–∞ –¥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–∞
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å

### üõçÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –í—Ä–µ–º—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ |
|--------|----------|-----------------|
| üìù **WordPress CMS** | –ì–æ—Ç–æ–≤—ã–π —Å–∞–π—Ç —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é | ~5 –º–∏–Ω—É—Ç |
| ‚ö° **Next.js App** | React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å SSR | ~3 –º–∏–Ω—É—Ç—ã |
| üîß **REST API** | Node.js API —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π | ~2 –º–∏–Ω—É—Ç—ã |
| üóÉÔ∏è **Database** | PostgreSQL —Å –±—ç–∫–∞–ø–∞–º–∏ | ~2 –º–∏–Ω—É—Ç—ã |
| üê≥ **Docker Container** | –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä | ~4 –º–∏–Ω—É—Ç—ã |
| üåê **Static Website** | HTML/CSS/JS —Å–∞–π—Ç | ~1 –º–∏–Ω—É—Ç–∞ |

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ **–µ–¥–∏–Ω–æ–π —Ü–µ–Ω–µ 10‚Ç¨**

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install jsonwebtoken @types/jsonwebtoken qrcode @types/qrcode axios web3 bitcoinjs-lib
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env.local`:

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
MASTER_SEED_PHRASE="your twelve word seed phrase here"
CRYPTO_BILLING_SECRET="your-secret-key-for-jwt"

# API –∫–ª—é—á–∏
INFURA_PROJECT_ID="your-infura-project-id"
COINGECKO_API_KEY="your-coingecko-api-key"
BLOCKCYPHER_TOKEN="your-blockcypher-token"

# –°–µ—Ç–∏
ETHEREUM_NETWORK="mainnet"
BITCOIN_NETWORK="mainnet"
NODE_ENV="development"
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è –≤ –ø—Ä–æ–µ–∫—Ç

```tsx
// app/layout.tsx
import { CryptoRatesProvider } from '@/modules/crypto-billing';

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html>
      <body>
        <CryptoRatesProvider>
          {children}
        </CryptoRatesProvider>
      </body>
    </html>
  );
}
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–ø–ª–∞—Ç—ã

```tsx
// app/checkout/page.tsx
'use client';

import { CryptoCheckout } from '@/modules/crypto-billing';

export default function CheckoutPage() {
  return (
    <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black p-8">
      <CryptoCheckout
        serviceType="wordpress"
        onPaymentCreated={(payment) => {
          console.log('Payment created:', payment.id);
        }}
        onPaymentComplete={(payment) => {
          console.log('Service activated!', payment.id);
        }}
      />
    </div>
  );
}
```

### 5. –ó–∞–ø—É—Å–∫ –¥–µ–º–æ

```bash
npm run dev
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/crypto-billing-demo
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
modules/crypto-billing/
‚îú‚îÄ‚îÄ components/           # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ServiceSelector.tsx
‚îÇ   ‚îú‚îÄ‚îÄ CryptoCheckout.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PaymentStatus.tsx  
‚îÇ   ‚îú‚îÄ‚îÄ PriceCalculator.tsx
‚îÇ   ‚îú‚îÄ‚îÄ CryptoWallet.tsx
‚îÇ   ‚îî‚îÄ‚îÄ AdminDashboard.tsx
‚îú‚îÄ‚îÄ hooks/               # React hooks
‚îÇ   ‚îú‚îÄ‚îÄ useCryptoPayment.tsx
‚îÇ   ‚îî‚îÄ‚îÄ useCryptoRates.tsx
‚îú‚îÄ‚îÄ lib/                 # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ crypto-rates.ts
‚îÇ   ‚îú‚îÄ‚îÄ wallet-generator.ts
‚îÇ   ‚îú‚îÄ‚îÄ middleware.ts
‚îÇ   ‚îî‚îÄ‚îÄ init.ts
‚îú‚îÄ‚îÄ types/              # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ crypto-billing.types.ts
‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã  
‚îÇ   ‚îú‚îÄ‚îÄ constants.ts
‚îÇ   ‚îî‚îÄ‚îÄ formatters.ts
‚îú‚îÄ‚îÄ docs/               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ API_SPEC.md
‚îÇ   ‚îú‚îÄ‚îÄ EXAMPLES.md
‚îÇ   ‚îî‚îÄ‚îÄ DEPENDENCIES.md
‚îî‚îÄ‚îÄ index.ts           # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
```

---

## üîß API Endpoints

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
```http
POST /api/crypto/create-payment
Authorization: Bearer <token>
Content-Type: application/json

{
  "serviceType": "wordpress",
  "cryptoCurrency": "USDT"
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```http
GET /api/crypto/check-payment?paymentId=pay_abc123
Authorization: Bearer <token>
```

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
```http  
POST /api/crypto/confirm-payment
Authorization: Bearer <token>
Content-Type: application/json

{
  "paymentId": "pay_abc123",
  "transactionHash": "0xabcdef..."
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç
```http
GET /api/crypto/rates
```

> üìö **[–ü–æ–ª–Ω–∞—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](./docs/API_SPEC.md)**

---

## ‚öõÔ∏è React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ServiceSelector
–í—ã–±–æ—Ä —Ç–∏–ø–∞ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –∑–∞–∫–∞–∑–∞:

```tsx
import { ServiceSelector } from '@/modules/crypto-billing';

<ServiceSelector
  selectedService={selectedService}
  onServiceSelect={(service) => setSelectedService(service)}
/>
```

### CryptoCheckout  
–ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã —Å –≤—ã–±–æ—Ä–æ–º –≤–∞–ª—é—Ç—ã:

```tsx
import { CryptoCheckout } from '@/modules/crypto-billing';

<CryptoCheckout
  serviceType="wordpress"
  onPaymentCreated={(payment) => console.log(payment)}
/>
```

### PaymentStatus
–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

```tsx
import { PaymentStatus } from '@/modules/crypto-billing';

<PaymentStatus
  paymentId="pay_abc123"
  onStatusChange={(status) => console.log(status)}
  autoRefresh={true}
/>
```

### PriceCalculator
–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞—Ö:

```tsx
import { PriceCalculator } from '@/modules/crypto-billing';

<PriceCalculator
  serviceType="wordpress"
  selectedCurrency="USDT"
  showComparison={true}
/>
```

> üìö **[–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](./docs/EXAMPLES.md)**

---

## üé£ React Hooks

### useCryptoPayment
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏:

```tsx
import { useCryptoPayment } from '@/modules/crypto-billing';

function PaymentComponent() {
  const {
    currentPayment,
    userPayments,
    loading,
    error,
    createPayment,
    checkPaymentStatus
  } = useCryptoPayment();

  const handleCreatePayment = async () => {
    const payment = await createPayment('wordpress', 'USDT');
    if (payment) {
      console.log('Payment created:', payment.id);
    }
  };

  return (
    <div>
      <button onClick={handleCreatePayment} disabled={loading}>
        {loading ? '–°–æ–∑–¥–∞–Ω–∏–µ...' : '–°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂'}
      </button>
      {error && <p>–û—à–∏–±–∫–∞: {error}</p>}
    </div>
  );
}
```

### useCryptoRates
–ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç:

```tsx
import { useCryptoRates } from '@/modules/crypto-billing';

function RatesDisplay() {
  const { rates, loading, error, refreshRates } = useCryptoRates();

  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞ –∫—É—Ä—Å–æ–≤...</div>;
  if (error) return <div>–û—à–∏–±–∫–∞: {error}</div>;

  return (
    <div>
      {rates.map(rate => (
        <div key={rate.currency}>
          <strong>{rate.currency}</strong>: ‚Ç¨{rate.priceEUR.toFixed(4)}
          <span className={rate.change24h >= 0 ? 'text-green' : 'text-red'}>
            {rate.change24h >= 0 ? '+' : ''}{rate.change24h.toFixed(2)}%
          </span>
        </div>
      ))}
      <button onClick={refreshRates}>–û–±–Ω–æ–≤–∏—Ç—å</button>
    </div>
  );
}
```

---

## üëë –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å

```tsx
import { AdminDashboard } from '@/modules/crypto-billing';

export default function AdminPage() {
  return (
    <div className="min-h-screen bg-gray-900 p-8">
      <AdminDashboard />
    </div>
  );
}
```

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –≤–∫–ª—é—á–∞–µ—Ç:
- üìä **–û–±–∑–æ—Ä** - –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üí≥ **–ü–ª–∞—Ç–µ–∂–∏** - –¥–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π  
- üìà **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –≥—Ä–∞—Ñ–∏–∫–∏ –¥–æ—Ö–æ–¥–æ–≤ –∏ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –≤–∞–ª—é—Ç
- ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```tsx
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ middleware –¥–ª—è –∑–∞—â–∏—Ç—ã API
import { CryptoBillingMiddleware } from '@/modules/crypto-billing';

export default CryptoBillingMiddleware.createPayment(
  async (req, res) => {
    // req.user —Å–æ–¥–µ—Ä–∂–∏—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const { serviceType, cryptoCurrency } = req.body;
    
    // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞
    // ...
  }
);
```

### Rate Limiting
- 5 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
- 60 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
- 30 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤

### –ó–∞—â–∏—â–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- HD –∫–æ—à–µ–ª—å–∫–∏ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∞–¥—Ä–µ—Å–æ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
- AES —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π
- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üåç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–µ—Ç–∏ –∏ –≤–∞–ª—é—Ç—ã

| –í–∞–ª—é—Ç–∞ | –°–µ—Ç—å | –í—Ä–µ–º—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è | –ö–æ–º–∏—Å—Å–∏–∏ | –°—Ç–∞—Ç—É—Å |
|--------|------|-------------------|----------|---------|
| üíé **USDT** | Ethereum/Tron | ~3 –º–∏–Ω—É—Ç—ã | –°—Ä–µ–¥–Ω–∏–µ/–ù–∏–∑–∫–∏–µ | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ |
| üíé **USDC** | Ethereum/Polygon | ~3 –º–∏–Ω—É—Ç—ã / ~1 –º–∏–Ω—É—Ç–∞ | –°—Ä–µ–¥–Ω–∏–µ/–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ |
| üíé **BUSD** | BSC | ~1 –º–∏–Ω—É—Ç–∞ | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ |
| ‚Çø **Bitcoin** | Bitcoin | ~10 –º–∏–Ω—É—Ç | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ |
| Œû **Ethereum** | Ethereum | ~3 –º–∏–Ω—É—Ç—ã | –í—ã—Å–æ–∫–∏–µ | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ |
| ‚óà **Polygon** | Polygon | ~1 –º–∏–Ω—É—Ç–∞ | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ | ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ |

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –≤–∞–ª—é—Ç—ã
- üî∂ **BNB** (Binance Smart Chain)
- ‚≠ê **SOL** (Solana)  
- üî∫ **TRX** (Tron)
- üí† **ADA** (Cardano)

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### Health Check
```bash
curl http://localhost:3000/api/health/crypto-billing
```

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–ª–∞—Ç–µ–∂–µ–π
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π  
- –°—Ä–µ–¥–Ω–∏–π –≤—Ä–µ–º—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–∞–ª—é—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã
- –î–æ—Ö–æ–¥ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π:
```
üîê POST /api/crypto/create-payment from 192.168.1.1
INFO POST /api/crypto/create-payment 201 1234ms userId=user_123
üí≥ Payment created: pay_abc123 { currency: USDT, amount: 10.85 }
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã
```bash
npm run test:crypto
```

### Integration —Ç–µ—Å—Ç—ã  
```bash
npm run test:integration
```

### E2E —Ç–µ—Å—Ç—ã
```bash
npm run test:e2e
```

### Test Coverage
```bash
npm run test:coverage
```

–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏: **>85%**

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Development
```bash
npm run dev
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000/crypto-billing-demo
```

### Production Build
```bash
npm run build
npm run start
```

### Environment Variables (Production)
```bash
# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
MASTER_SEED_PHRASE="real production seed phrase with 12 words"
CRYPTO_BILLING_SECRET="strong-256-bit-secret-key"
WEBHOOK_SECRET="webhook-verification-secret"

# External APIs
INFURA_PROJECT_ID="production-infura-id" 
COINGECKO_API_KEY="production-coingecko-key"
BLOCKCYPHER_TOKEN="production-blockcypher-token"

# Networks
ETHEREUM_NETWORK="mainnet"
BITCOIN_NETWORK="mainnet" 
NODE_ENV="production"

# Database
DATABASE_URL="postgresql://user:pass@prod-db:5432/crypto_billing"
REDIS_URL="redis://prod-redis:6379"
```

### Docker
```bash
docker build -t crypto-billing-app .
docker run -p 3000:3000 crypto-billing-app
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–µ–Ω
```typescript
// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã —Å–µ—Ä–≤–∏—Å–æ–≤
export const SYSTEM_CONFIG = {
  SERVICE_PRICE_EUR: 15, // –ò–∑–º–µ–Ω–∏—Ç—å —Å 10‚Ç¨ –Ω–∞ 15‚Ç¨
  PAYMENT_EXPIRY_MINUTES: 60,
  // ...
};
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
```typescript
// –í constants.ts
export const SUPPORTED_CURRENCIES = [
  // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤–∞–ª—é—Ç—ã...
  {
    symbol: 'SOL',
    name: 'Solana',
    network: 'solana',
    decimals: 9,
    icon: '‚≠ê',
    isStablecoin: false,
    minConfirmations: 32,
    avgConfirmationTime: 1
  }
];
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è UI
```css
/* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ CSS –¥–ª—è –±—Ä–µ–Ω–¥–∏–Ω–≥–∞ */
:root {
  --crypto-primary: #3B82F6;
  --crypto-success: #10B981;
  --crypto-warning: #F59E0B;
  --crypto-error: #EF4444;
}
```

---

## ü§ù –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Railway

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
```typescript
// lib/railway-integration.ts
export async function activateUserService(payment: CryptoPayment) {
  const railway = new Railway();
  
  // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–µ–∫—Ç –≤ Railway
  const project = await railway.createProject({
    name: `${payment.serviceType}-${payment.userId}`,
    template: getServiceTemplate(payment.serviceType),
    environmentVariables: {
      USER_ID: payment.userId,
      PAYMENT_ID: payment.id
    }
  });

  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–æ–º–µ–Ω
  const domain = await railway.generateDomain(project.id);
  
  return {
    success: true,
    serviceUrl: domain.url,
    credentials: generateServiceCredentials(payment.serviceType)
  };
}
```

---

## üêõ Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**1. "–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è"**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á CoinGecko
curl "https://api.coingecko.com/api/v3/ping"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
echo $COINGECKO_API_KEY
```

**2. "–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ—à–µ–ª—å–∫–∞"**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ seed phrase (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 12 —Å–ª–æ–≤)
echo $MASTER_SEED_PHRASE | wc -w

# –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ demo seed:
MASTER_SEED_PHRASE="abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about"
```

**3. "JWT –æ—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
echo $CRYPTO_BILLING_SECRET

# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á:
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

**4. "Rate limit exceeded"**
```typescript
// –£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã –≤ middleware.ts
export const API_LIMITS = {
  MAX_CONCURRENT_PAYMENTS: 5,    // –±—ã–ª–æ 3
  RATE_LIMIT_PER_MINUTE: 120,    // –±—ã–ª–æ 60
  // ...
};
```

### Debug Mode
```bash
DEBUG=crypto-billing:* npm run dev
```

### Logs Location
- Development: Console output
- Production: `./logs/crypto-billing/`

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üìö **[API Specification](./docs/API_SPEC.md)** - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API
- üíª **[Examples](./docs/EXAMPLES.md)** - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üì¶ **[Dependencies](./docs/DEPENDENCIES.md)** - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –°–æ–æ–±—â–µ—Å—Ç–≤–æ
- üí¨ **GitHub Issues** - –î–ª—è –±–∞–≥–æ–≤ –∏ feature requests
- üìß **Email**: crypto-support@your-domain.com
- üí¨ **Discord**: https://discord.gg/your-server

### –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- üü¢ **Status Page**: https://status.your-domain.com
- üìä **Metrics**: https://metrics.your-domain.com

---

## üéØ Roadmap

### v1.1 (Q4 2025)
- [ ] Lightning Network –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è Bitcoin
- [ ] Solana (SOL) –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Multi-signature –∫–æ—à–µ–ª—å–∫–∏
- [ ] Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### v1.2 (Q1 2026)  
- [ ] DeFi –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Staking, Yield)
- [ ] NFT –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è –ø—Ä–µ–º–∏—É–º –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- [ ] Cross-chain –º–æ—Å—Ç—ã
- [ ] Mobile SDK
- [ ] White-label —Ä–µ—à–µ–Ω–∏—è

### v2.0 (Q2 2026)
- [ ] AI-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–º–∏—Å—Å–∏–π
- [ ] Decentralized exchange –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
- [ ] Layer 2 —Ä–µ—à–µ–Ω–∏—è (Arbitrum, Optimism)
- [ ] Enterprise features
- [ ] Compliance –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

---

## üìÑ License

MIT License - —Å–º. [LICENSE](./LICENSE) —Ñ–∞–π–ª

## üôè Credits

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å ‚ù§Ô∏è –∫–æ–º–∞–Ω–¥–æ–π Railway SaaS Platform

- **Claude Sonnet 4** - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥—É–ª—è
- **Railway** - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö–æ—Å—Ç–∏–Ω–≥–∞  
- **CoinGecko** - API –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç
- **Infura** - Ethereum node provider
- **BlockCypher** - Bitcoin API

---

## ‚≠ê –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

1. **[–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)**
2. **[–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)**  
3. **[–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–º–æ](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)**
4. **[–ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã](./docs/EXAMPLES.md)**
5. **[–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç](#Ô∏è-react-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)**

**–ì–æ—Ç–æ–≤—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–ø–ª–∞—Ç–µ–∂–∏ –∑–∞ 10 –º–∏–Ω—É—Ç!** üöÄ

---

<div align="center">
  <strong>üíé Crypto Billing Module - –ë—É–¥—É—â–µ–µ SaaS –ø–ª–∞—Ç–µ–∂–µ–π —É–∂–µ –∑–¥–µ—Å—å!</strong>
  
  <p>
    <a href="#-–æ–±–∑–æ—Ä">–û–±–∑–æ—Ä</a> ‚Ä¢
    <a href="#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç">–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</a> ‚Ä¢
    <a href="#Ô∏è-api-endpoints">API</a> ‚Ä¢
    <a href="#Ô∏è-react-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</a> ‚Ä¢
    <a href="#-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è-–ø–∞–Ω–µ–ª—å">–ê–¥–º–∏–Ω–∫–∞</a> ‚Ä¢
    <a href="./docs/EXAMPLES.md">–ü—Ä–∏–º–µ—Ä—ã</a>
  </p>
</div>
